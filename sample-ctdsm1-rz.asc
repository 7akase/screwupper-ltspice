Version 4
SHEET 1 884 680
WIRE 32 -80 -32 -80
WIRE 96 -80 32 -80
WIRE 32 32 -32 32
WIRE 96 32 32 32
WIRE 752 96 752 64
WIRE 752 112 752 96
WIRE -16 160 -144 160
WIRE 16 160 -16 160
WIRE 144 160 112 160
WIRE 384 160 336 160
WIRE 496 160 480 160
WIRE 512 160 496 160
WIRE 688 160 640 160
WIRE 848 160 816 160
WIRE 880 160 848 160
WIRE -144 192 -144 160
WIRE 64 224 64 208
WIRE 400 240 400 208
WIRE 400 256 400 240
WIRE -144 304 -144 272
WIRE 64 304 64 224
WIRE 192 304 64 304
WIRE 336 304 288 304
WIRE 880 304 880 160
WIRE 880 304 464 304
FLAG 752 96 clk
FLAG -144 304 0
FLAG 848 160 D
FLAG 496 160 Y
FLAG -16 160 U
FLAG 64 224 FB
FLAG 32 -80 clk
FLAG 400 240 clk_rz
FLAG 32 32 clk_rz
SYMBOL sub 64 160 R0
SYMATTR InstName X1
SYMBOL gain 432 160 R0
SYMATTR InstName X2
SYMATTR SpiceLine k=1k
SYMBOL sgn 576 160 R0
SYMATTR InstName X4
SYMBOL delay 752 160 R0
SYMATTR InstName X5
SYMATTR SpiceLine td={0.01/fs}
SYMBOL voltage -144 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vin
SYMATTR Value SINE(0 {vin} {fsig})
SYMBOL pole 240 160 R0
SYMATTR SpiceLine pole={fs/nfft/100}
SYMATTR InstName X3
SYMBOL gain 240 304 M0
SYMATTR InstName X7
SYMATTR SpiceLine k=2
SYMBOL clk -96 -80 R0
SYMATTR InstName X6
SYMBOL clk -96 32 R0
SYMATTR SpiceLine fclk=1 alpha=0.1 beta=0.6
SYMATTR InstName X9
SYMBOL return_to_zero 400 304 M0
SYMATTR InstName X8
TEXT 272 40 Left 2 !.tran {nfft/fs}
TEXT -496 16 Left 2 !.param nfft=2**14\n.param fs=1\n.param osr=64\n.param vin=0.8\n.param fb={fs/2/osr}\n.param fsig={fs/nfft*23}
TEXT 264 -64 Left 2 !.option plotwinsize={nfft}\n.optons numdgt=15
